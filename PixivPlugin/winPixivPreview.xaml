<Window x:Class="PixivPlugin.winPixivPreview"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Pixiv 图片预览" Height="700" Width="600"
        WindowStartupLocation="CenterScreen"
        Background="#FF2D2D30">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 图片显示区域 -->
        <Border Grid.Row="0" Background="#FF1E1E1E" Margin="10">
            <Grid>
                <Image x:Name="imgPreview" Stretch="Uniform" />
                <TextBlock x:Name="txtLoading" Text="加载中..." 
                           HorizontalAlignment="Center" VerticalAlignment="Center"
                           Foreground="White" FontSize="16" Visibility="Collapsed"/>
                <TextBlock x:Name="txtError" Text="图片加载失败" 
                           HorizontalAlignment="Center" VerticalAlignment="Center"
                           Foreground="#FFFF6B6B" FontSize="16" Visibility="Collapsed"/>
            </Grid>
        </Border>

        <!-- 图片信息区域 -->
        <StackPanel Grid.Row="1" Margin="10,0,10,10">
            <TextBlock x:Name="txtTitle" Text="标题" Foreground="White" FontSize="16" 
                       FontWeight="Bold" TextWrapping="Wrap" Margin="0,0,0,5"/>
            <TextBlock x:Name="txtAuthor" Text="作者" Foreground="#FFAAAAAA" FontSize="13" Margin="0,0,0,5"/>
            <TextBlock x:Name="txtTags" Text="标签" Foreground="#FF888888" FontSize="12" 
                       TextWrapping="Wrap" MaxHeight="40"/>
        </StackPanel>

        <!-- 导航和页码 -->
        <Grid Grid.Row="2" Margin="10,0,10,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Button x:Name="btnPrevious" Content="◀ 上一张" Grid.Column="0" 
                    Width="100" Height="32" Click="btnPrevious_Click"
                    Background="#FF3C3C3C" Foreground="White" BorderThickness="0"/>
            
            <TextBlock x:Name="txtPageInfo" Grid.Column="1" 
                       HorizontalAlignment="Center" VerticalAlignment="Center"
                       Foreground="White" FontSize="14"/>
            
            <Button x:Name="btnNext" Content="下一张 ▶" Grid.Column="2" 
                    Width="100" Height="32" Click="btnNext_Click"
                    Background="#FF3C3C3C" Foreground="White" BorderThickness="0"/>
        </Grid>

        <!-- 下载区域 -->
        <Grid Grid.Row="3" Margin="10,0,10,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <ProgressBar x:Name="progressDownload" Grid.Column="0" Height="25" 
                         Margin="0,0,10,0" Visibility="Collapsed"/>
            <TextBlock x:Name="txtDownloadStatus" Grid.Column="0" 
                       VerticalAlignment="Center" Foreground="#FF888888" FontSize="12"/>
            
            <Button x:Name="btnDownload" Content="下载原图" Grid.Column="1" 
                    Width="100" Height="32" Click="btnDownload_Click"
                    Background="#FF0078D4" Foreground="White" BorderThickness="0"/>
        </Grid>
    </Grid>
</Window>
