<Window x:Class="WeatherPlugin.winWeatherSetting"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="天气插件设置 - Weather Plugin Settings" Height="350" Width="450"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 默认城市 -->
        <StackPanel Grid.Row="0" Margin="0,0,0,15">
            <Label Content="默认城市 (Default City):" FontWeight="Bold"/>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <ComboBox x:Name="ComboBox_City" 
                          Grid.Column="0"
                          IsEditable="True"
                          Height="28"
                          VerticalContentAlignment="Center"/>
                <Button x:Name="Button_Search" 
                        Grid.Column="1" 
                        Content="搜索" 
                        Width="60" 
                        Margin="5,0,0,0"
                        Click="Button_Search_Click"/>
            </Grid>
        </StackPanel>

        <!-- 超时设置 -->
        <StackPanel Grid.Row="1" Margin="0,0,0,15">
            <Label Content="请求超时 (Timeout in seconds):" FontWeight="Bold"/>
            <TextBox x:Name="TextBox_Timeout" Height="28" VerticalContentAlignment="Center"/>
        </StackPanel>

        <!-- 提示信息 -->
        <Border Grid.Row="2" Background="#FFF3E0" BorderBrush="#FFB74D" BorderThickness="1" Padding="10" Margin="0,0,0,15">
            <TextBlock TextWrapping="Wrap" Foreground="#E65100">
                ⚠️ 注意：该天气接口仅支持中国大陆地区数据，不支持其他国家和地区的天气查询。
            </TextBlock>
        </Border>

        <!-- 搜索结果 -->
        <StackPanel Grid.Row="3" x:Name="Panel_SearchResults" Visibility="Collapsed">
            <Label Content="搜索结果:" FontWeight="Bold"/>
            <ListBox x:Name="ListBox_SearchResults" 
                     Height="80" 
                     SelectionChanged="ListBox_SearchResults_SelectionChanged"/>
        </StackPanel>

        <!-- 按钮 -->
        <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button x:Name="Button_Save" Content="保存 (Save)" Width="100" Height="30" Margin="0,0,10,0" Click="Button_Save_Click"/>
            <Button x:Name="Button_Cancel" Content="取消 (Cancel)" Width="100" Height="30" Click="Button_Cancel_Click"/>
        </StackPanel>
    </Grid>
</Window>
